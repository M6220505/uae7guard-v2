# =============================================================================
# UAE7Guard - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!
#
# For production deployment, ensure all required variables are set with
# secure, production-ready values.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=5000

# Server host (use 0.0.0.0 for production, localhost for development)
HOST=0.0.0.0

# Application URL (used for CORS, webhooks, and email links)
APP_URL=https://uae7guard.com

# API URL (if different from APP_URL)
API_URL=https://api.uae7guard.com

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# For production, use SSL: ?sslmode=require
#
# ðŸ”¥ SUPABASE USERS: Get this from Supabase Dashboard:
#    Settings â†’ Database â†’ Connection String â†’ URI
#    Example: postgresql://postgres:yourpassword@db.xxx.supabase.co:5432/postgres
#
# ðŸ”¥ VERCEL USERS: Add this as an environment variable in Vercel dashboard
#
DATABASE_URL=postgresql://username:password@localhost:5432/uae7guard

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=5000

# -----------------------------------------------------------------------------
# Supabase Configuration (RECOMMENDED FOR AUTH)
# -----------------------------------------------------------------------------
# Get these from: Supabase Dashboard > Settings > API
#
# IMPORTANT: iOS/Web use Supabase Auth directly (no backend for login/signup)
# Backend only verifies JWT tokens for protected API endpoints

# Supabase Project URL
# Example: https://xxxxxxxxxxxx.supabase.co
SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_URL=
VITE_SUPABASE_URL=

# Supabase Anonymous Key (safe to use in browser/iOS)
# This key respects Row Level Security (RLS)
SUPABASE_ANON_KEY=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
VITE_SUPABASE_ANON_KEY=

# Supabase Service Role Key (SERVER ONLY - NEVER expose to client/iOS)
# This key bypasses RLS - use only on backend for admin operations
SUPABASE_SERVICE_ROLE_KEY=

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Session secret - MUST be a strong random value in production
# Generate using: openssl rand -base64 64
SESSION_SECRET=change-this-to-a-very-long-random-string-in-production

# Auth secret for password hashing - MUST be a strong random value in production
# Generate using: openssl rand -base64 32
AUTH_SECRET=change-this-to-a-strong-random-string-for-auth

# Session configuration
SESSION_MAX_AGE=86400000
SESSION_NAME=uae7guard.sid
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# JWT configuration (if using JWT in addition to sessions)
# JWT_SECRET=change-this-to-another-long-random-string
# JWT_EXPIRES_IN=7d

# CSRF protection token
# CSRF_SECRET=another-random-string-for-csrf-protection

# Rate limiting (requests per window per IP)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Strict rate limiting for sensitive endpoints
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_AUTH_WINDOW_MS=900000

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allowed origins (comma-separated for multiple origins)
CORS_ALLOWED_ORIGINS=https://uae7guard.com,capacitor://localhost,ionic://localhost

# Enable credentials (cookies, authorization headers)
CORS_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Authentication & Authorization
# -----------------------------------------------------------------------------
# Password hashing rounds (10-12 recommended for production)
BCRYPT_ROUNDS=12

# Admin credentials (for initial setup only - remove after first login)
# CRITICAL: Never commit actual admin passwords
# ADMIN_EMAIL=admin@uae7guard.com
# ADMIN_PASSWORD=

# Apple Review Demo Account (for App Store submissions)
APPLE_REVIEW_PASSWORD=

# OAuth2 Configuration (if needed)
# OAUTH_CLIENT_ID=
# OAUTH_CLIENT_SECRET=
# OAUTH_CALLBACK_URL=

# -----------------------------------------------------------------------------
# Email Configuration (SendGrid)
# -----------------------------------------------------------------------------
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@uae7guard.com
SENDGRID_FROM_NAME=UAE7Guard

# Email templates
SENDGRID_WELCOME_TEMPLATE_ID=
SENDGRID_RESET_PASSWORD_TEMPLATE_ID=
SENDGRID_ALERT_TEMPLATE_ID=

# -----------------------------------------------------------------------------
# Payment Processing (Stripe)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Stripe products (set these after creating products in Stripe)
STRIPE_PRODUCT_BASIC_ID=
STRIPE_PRODUCT_PREMIUM_ID=
STRIPE_PRODUCT_ENTERPRISE_ID=

# -----------------------------------------------------------------------------
# Blockchain Configuration (Alchemy)
# -----------------------------------------------------------------------------
ALCHEMY_API_KEY=
ALCHEMY_NETWORK=mainnet

# Bitcoin API (if using)
# BITCOIN_API_URL=
# BITCOIN_API_KEY=

# -----------------------------------------------------------------------------
# AI Services (OpenAI)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# File Storage
# -----------------------------------------------------------------------------
# Local storage path
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# Cloud storage (AWS S3, Google Cloud Storage, etc.)
# STORAGE_PROVIDER=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=uae7guard-uploads

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, simple
LOG_FORMAT=json

# Enable request logging
LOG_REQUESTS=true

# Sentry configuration (error tracking)
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Application monitoring
# NEW_RELIC_LICENSE_KEY=
# NEW_RELIC_APP_NAME=UAE7Guard

# -----------------------------------------------------------------------------
# Redis Configuration (for caching and sessions)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# REDIS_TLS=false

# Cache TTL in seconds
CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_BLOCKCHAIN_FEATURES=true
ENABLE_AI_FEATURES=true
ENABLE_PAYMENT_FEATURES=true

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We are currently performing scheduled maintenance.

# -----------------------------------------------------------------------------
# Mobile App Configuration
# -----------------------------------------------------------------------------
# Capacitor configuration
CAPACITOR_SERVER_URL=https://uae7guard.com
CAPACITOR_ANDROID_PACKAGE=com.uae7guard.app
CAPACITOR_IOS_BUNDLE=com.uae7guard.app

# -----------------------------------------------------------------------------
# Firebase Configuration
# -----------------------------------------------------------------------------
# Get these from Firebase Console: https://console.firebase.google.com
# Project Settings â†’ General â†’ Your apps â†’ Web app
# For Firebase Authentication, enable Sign in with Apple and Email/Password

# Firebase Web Config (Required for all platforms)
VITE_FIREBASE_API_KEY=
VITE_FIREBASE_AUTH_DOMAIN=
VITE_FIREBASE_PROJECT_ID=
VITE_FIREBASE_STORAGE_BUCKET=
VITE_FIREBASE_MESSAGING_SENDER_ID=
VITE_FIREBASE_APP_ID=
VITE_FIREBASE_MEASUREMENT_ID=

# Push notifications (Firebase Cloud Messaging)
# FCM_SERVER_KEY=
# FCM_SENDER_ID=

# App update settings
FORCE_UPDATE_VERSION=1.0.0
RECOMMENDED_UPDATE_VERSION=1.0.0

# -----------------------------------------------------------------------------
# API Keys & External Services
# -----------------------------------------------------------------------------
# Google Maps API (for location features)
# GOOGLE_MAPS_API_KEY=

# SMS provider (Twilio)
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=

# Analytics (Google Analytics, Mixpanel, etc.)
# GA_TRACKING_ID=
# MIXPANEL_TOKEN=

# -----------------------------------------------------------------------------
# Development & Testing
# -----------------------------------------------------------------------------
# Mock external services in development
MOCK_PAYMENT_PROVIDER=false
MOCK_EMAIL_PROVIDER=false
MOCK_SMS_PROVIDER=false

# Seed database with test data
SEED_DATABASE=false

# Enable debug mode
DEBUG=false

# Replit specific (for Replit deployments)
# REPLIT_DOMAINS=
# REPLIT_DB_URL=

# -----------------------------------------------------------------------------
# Performance & Optimization
# -----------------------------------------------------------------------------
# Enable compression
ENABLE_COMPRESSION=true

# Enable HTTP/2
ENABLE_HTTP2=false

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# Body parser limits
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb

# -----------------------------------------------------------------------------
# Backup & Recovery
# -----------------------------------------------------------------------------
# Automated backup settings
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=uae7guard-backups

# -----------------------------------------------------------------------------
# Compliance & Legal
# -----------------------------------------------------------------------------
# Data retention period (days)
DATA_RETENTION_DAYS=365

# Enable GDPR compliance features
GDPR_COMPLIANCE=true

# Terms of service version
TOS_VERSION=1.0
PRIVACY_POLICY_VERSION=1.0
